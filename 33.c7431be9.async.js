"use strict";(self.webpackChunk_example_website=self.webpackChunk_example_website||[]).push([[33],{69613:function(U,u,e){var o=e(8058).default;Object.defineProperty(u,"__esModule",{value:!0}),u.default=void 0;var a=o(e(94046)),E=o(e(2784)),r=e(56741),n=e(52322),I=void 0,v=function(i){var s=i.optConfig,l=i.isEditing,d=i.isAddEdit,O=i.save,t=i.isOptDelete,p=i.cancel,A=i.onDelete,D=i.edit,T=i.newAdd,P=i.editingKey,y=i.rowKey,V=i.multiple;return[(0,a.default)((0,a.default)({title:"\u64CD\u4F5C",align:"center",width:120},s),{},{render:function(N,h,$){var F=l(h),x=d(h);return s&&s.render?s.render(N,h,$,{editable:F,isNewAdd:x,save:O,cancel:p,onDelete:A,edit:D,newAdd:T,editingKey:P}):F?(0,n.jsxs)("span",{children:[(0,n.jsx)(r.Typography.Link,{onClick:function(){return O(h[y],h,$)},style:{marginRight:8},children:"\u4FDD\u5B58"}),(0,n.jsx)(r.Popconfirm,{title:"\u662F\u5426\u53D6\u6D88\u5F53\u524D\u884C\u7F16\u8F91?",okText:"\u662F",cancelText:"\u5426",onConfirm:x?A.bind(I,h[y],h,$):p.bind(I,h[y]),children:(0,n.jsx)(r.Typography.Link,{children:"\u53D6\u6D88"})})]}):(0,n.jsxs)(r.Space,{children:[(0,n.jsx)(r.Typography.Link,{disabled:!!P.length&&!V,onClick:function(){return D(h)},children:"\u7F16\u8F91"}),t&&(0,n.jsx)(r.Popconfirm,{title:"\u662F\u5426\u5220\u9664\u5F53\u524D\u884C\u6570\u636E?",okText:"\u662F",cancelText:"\u5426",onConfirm:function(){return A(h[y],h,$)},children:(0,n.jsx)(r.Typography.Link,{children:"\u5220\u9664"})})]})}})]},S=v;u.default=S,U.exports=u.default},99090:function(U,u,e){var o=e(8058).default;Object.defineProperty(u,"__esModule",{value:!0}),u.useStore=u.default=void 0;var a=o(e(80383)),E=o(e(29960)),r=o(e(82906)),n=o(e(2784)),I=(0,a.default)(function b(){var i=this;(0,E.default)(this,b),(0,r.default)(this,"store",{}),(0,r.default)(this,"remove",function(s){delete i.store["".concat(s)]}),(0,r.default)(this,"register",function(s,l){i.store["".concat(s)]=l}),(0,r.default)(this,"getStore",function(){return i.store}),(0,r.default)(this,"getToKeyForm",function(s){return i.store["".concat(s)]})}),v=function(i){var s=n.default.useRef();return i?s.current=i:s.current=new I,[s.current]};u.useStore=v;var S=I;u.default=S},11147:function(U,u,e){var o=e(8058).default;Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.EditableCellItem=void 0;var a=o(e(94046)),E=o(e(5827)),r=o(e(2784)),n=e(56741),I=o(e(38963)),v=e(52091),S=e(52322),b=["editing","dataIndex","title","record","index","inputNode","rules","children","itemAttr","type","attr","tip","tipAttr","multiple","rowKey","isList","listAttr"],i=["name","rules","preName","itemValue","children","tipAttr","tip"],s=function(t){var p=t.editing,A=t.dataIndex,D=t.title,T=t.record,P=t.index,y=t.inputNode,V=t.rules,m=t.children,N=t.itemAttr,h=t.type,$=t.attr,F=t.tip,x=t.tipAttr,R=t.multiple,L=t.rowKey,j=t.isList,W=t.listAttr,J=(0,E.default)(t,b),z=(0,v.getItem)({attr:$,type:h,inputNode:y}),H=function(){return j&&typeof y=="function"?(0,S.jsx)(I.default.List,(0,a.default)((0,a.default)({},W),{},{name:A,children:function(X,ae,Y){return y(X.map(function(Z){return(0,a.default)((0,a.default)({},Z),{},{fieldKey:Z.key})}),ae,Y)}})):(0,S.jsx)(l,(0,a.default)((0,a.default)({},N),{},{name:A,rules:V,preName:T[L],itemValue:T,children:z,tipAttr:x,tip:F}))};return(0,S.jsx)("td",(0,a.default)((0,a.default)({},J),{},{children:p?H():m}))},l=function(t){var p=t.name,A=t.rules,D=t.preName,T=D===void 0?"":D,P=t.itemValue,y=t.children,V=t.tipAttr,m=V===void 0?{}:V,N=t.tip,h=(0,E.default)(t,i);return(0,S.jsx)(I.default.Field,(0,a.default)((0,a.default)({},h),{},{name:p,rules:A,children:function(F,x,R){var L=(0,v.toArray)(p).length&&x?x.name:[],j=(0,v.getFieldId)(L,T),W=function(G){var Q=G;G&&G.target&&(Q=G.target.value),F.onChange(Q)},J=typeof y=="function"?y((0,a.default)((0,a.default)({},F),{},{id:j}),x,R,{record:P}):r.default.isValidElement(y)?r.default.cloneElement(y,(0,a.default)((0,a.default)({},F),{},{onChange:W,id:j})):y,z=x.errors.map(function(H){return H}).join(",");return(0,S.jsx)(n.Tooltip,(0,a.default)((0,a.default)({color:"#fff",overlayInnerStyle:{color:"red"}},m),{},{title:N?N(z):z,open:!!x.errors.length,children:J}))}}))};u.EditableCellItem=l;var d=s;u.default=d},79895:function(U,u,e){var o=e(8058).default;Object.defineProperty(u,"__esModule",{value:!0}),u.default=u.EditForms=void 0;var a=o(e(94046)),E=o(e(65585)),r=o(e(2784)),n=o(e(38963)),I=o(e(99090)),v=e(52322),S=void 0,b=r.default.createContext({formsRef:new I.default,dataSource:[],rowKey:"id",onValuesChange:function(d,O,t,p){}});u.EditForms=b;var i=function(d){var O=n.default.useForm(),t=(0,E.default)(O,1),p=t[0],A=r.default.useContext(b),D=A.formsRef,T=A.onValuesChange,P=T===void 0?function(){}:T,y=A.dataSource,V=A.rowKey;r.default.useEffect(function(){return function(){return D.remove("".concat(d["data-row-key"]))}},[]),D.register("".concat(d["data-row-key"]),p);var m=y.find(function(N){return"".concat(N[V])==="".concat(d["data-row-key"])});return(0,v.jsx)(n.default,{onValuesChange:P.bind(S,"".concat(d["data-row-key"]),p),form:p,name:"".concat(d["data-row-key"]),component:!1,initialValues:m||{},children:(0,v.jsx)("tr",(0,a.default)({},d))})},s=i;u.default=s},79814:function(U,u,e){var o=e(8058).default,a=e(33769).default;Object.defineProperty(u,"__esModule",{value:!0}),Object.defineProperty(u,"Store",{enumerable:!0,get:function(){return l.default}}),u.default=void 0;var E=o(e(28332)),r=o(e(20298)),n=o(e(85338)),I=o(e(82906)),v=o(e(94046)),S=o(e(65585)),b=o(e(5827)),i=a(e(2784)),s=e(56741),l=a(e(99090)),d=a(e(79895)),O=a(e(11147)),t=o(e(69613)),p=e(52322),A=["columns","dataSource","onBeforeSave","onSave","rowKey","optIsFirst","optConfig","isOptDelete","initValue","onValuesChange","isAdd","onErr","multiple","onBeforeAdd","isOpt","addBtnProps","store"],D=function(m,N){var h=m.columns,$=m.dataSource,F=$===void 0?[]:$,x=m.onBeforeSave,R=m.onSave,L=m.rowKey,j=L===void 0?"id":L,W=m.optIsFirst,J=W===void 0?!1:W,z=m.optConfig,H=z===void 0?{}:z,G=m.isOptDelete,Q=G===void 0?!1:G,X=m.initValue,ae=X===void 0?{}:X,Y=m.onValuesChange,Z=m.isAdd,ue=m.onErr,le=m.multiple,k=le===void 0?!1:le,de=m.onBeforeAdd,oe=m.isOpt,Ee=oe===void 0?!0:oe,fe=m.addBtnProps,se=fe===void 0?{}:fe,Ie=m.store,xe=(0,b.default)(m,A),Re=(0,l.useStore)(Ie),De=(0,S.default)(Re,1),q=De[0],Te=(0,i.useState)([]),ce=(0,S.default)(Te,2),_=ce[0],ne=ce[1],Pe=i.default.useState([]),ve=(0,S.default)(Pe,2),ee=ve[0],me=ve[1],re=function(f){ne(function(g){return g.filter(function(C){return"".concat(C)!=="".concat(f)})}),me(function(g){return g.filter(function(C){return"".concat(C)!=="".concat(f)})})},Ke=i.default.useMemo(function(){return h.filter(function(c){return c.editable}).map(function(c){return c.dataIndex})},[h]),ge=function(f){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=q.getStore();C["".concat(f)]&&C["".concat(f)].setFieldsValue(g)},he=function(f){var g=q.getStore();return g["".concat(f)]},ie=function(f){return _.includes("".concat(f[j]))},be=function(f){return ee.includes("".concat(f[j]))},ye=function(){if(!(de&&!de())){if(ee.length===1&&!k){s.message.warning("\u53EA\u80FD\u65B0\u589E\u4E00\u884C");return}if(_.length===1&&!k){s.message.warning("\u53EA\u80FD\u7F16\u8F91\u4E00\u884C");return}var f=(new Date().getTime()*Math.round(10)).toString(),g=(0,v.default)((0,v.default)({},ae||{}),{},(0,I.default)({},j,f)),C=F.concat([g]);ne(function(w){return w.concat([f])}),me(function(w){return w.concat([f])}),R&&R(C,g)}},pe=function(f){var g=(0,v.default)({},f);ge(f[j],g),ne(function(C){return C.concat(["".concat(f[j])])})},je=function(f){re(f),ge(f,{})},Ce=function(f,g,C){var w=F.filter(function(M){return"".concat(M[j])!=="".concat(f)});re(f),R&&R(w,g,g,C)},Se=function(){var c=(0,n.default)((0,E.default)().mark(function f(g,C,w){var M,B,te,Fe;return(0,E.default)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.prev=0,K.next=3,he(g).validateFields();case 3:if(M=K.sent,!(x&&!x(M,C,w))){K.next=6;break}return K.abrupt("return");case 6:B=(0,r.default)(F),te=B.findIndex(function($e){return"".concat(g)==="".concat($e[j])}),te>-1?(Fe=B[te],B.splice(te,1,(0,v.default)((0,v.default)({},Fe),M))):B.push(M),R&&R(B,M,C,w),re(g),he(g).resetFields(Ke),K.next=17;break;case 14:K.prev=14,K.t0=K.catch(0),ue&&ue(K.t0);case 17:case"end":return K.stop()}},f,null,[[0,14]])}));return function(g,C,w){return c.apply(this,arguments)}}(),Ae=Ee&&(0,t.default)({optConfig:H,isEditing:ie,isAddEdit:be,save:Se,isOptDelete:Q,cancel:je,onDelete:Ce,edit:pe,newAdd:ee,editingKey:_,rowKey:j,multiple:k})||[],Oe=J?Ae.concat(h):h.concat(Ae),Ve=Oe.map(function(c){return c.editable?(0,v.default)((0,v.default)({},c),{},{onCell:function(g){return{record:g,multiple:k,rowKey:j,dataIndex:c.dataIndex,title:c.title,editing:ie(g),inputNode:c.inputNode,rules:c.rules||[],itemAttr:c.itemAttr,type:c.type,attr:c.attr,tip:c.tip,tipAttr:c.tipAttr,isList:c.isList,listAttr:c.listAttr}}}):c}),Ne=function(f,g,C,w){if(Y){var M=F.map(function(B){return"".concat(f)==="".concat(B[j])?(0,v.default)((0,v.default)({},B),w):(0,v.default)({},B)});Y(M,C,w,f,g)}};return i.default.useImperativeHandle(N,function(){return{save:Se,onDelete:Ce,edit:pe,cancel:je,add:ye,isEditing:ie,editingKey:_,newAdd:ee,forms:q}}),(0,p.jsx)(i.default.Fragment,{children:(0,p.jsxs)(d.EditForms.Provider,{value:{formsRef:q,onValuesChange:Ne,dataSource:F,rowKey:j},children:[(0,p.jsx)(s.Table,(0,v.default)((0,v.default)({size:"small",bordered:!0},xe),{},{components:{body:{row:d.default,cell:O.default}},rowKey:j,dataSource:F,columns:Ve,rowClassName:"editable-row",pagination:!1})),Z&&(0,p.jsx)(s.Button,(0,v.default)((0,v.default)({type:"dashed",block:!0,children:"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"},se||{}),{},{style:(0,v.default)({marginTop:10},(se||{}).style||{}),onClick:ye}))]})})},T=i.default.forwardRef(D),P=T;P.useStore=l.useStore,P.Item=O.EditableCellItem;var y=P;u.default=y},52091:function(U,u,e){var o=e(8058).default;Object.defineProperty(u,"__esModule",{value:!0}),u.getFieldId=v,u.getItem=void 0,u.toArray=S;var a=o(e(94046)),E=o(e(2784)),r=e(56741),n=e(52322),I=r.DatePicker.RangePicker;function v(i,s){if(i.length){var l=i.join("_");return s?"".concat(s,"_").concat(l):l}}function S(i){return i===void 0||i===!1?[]:Array.isArray(i)?i:[i]}var b=function(s){var l=s.attr,d=s.type,O=s.inputNode,t=void 0;if(d==="Input"){var p=l;t=(0,n.jsx)(r.Input,(0,a.default)({},p))}else if(d==="TextArea"){var A=l;t=(0,n.jsx)(r.Input.TextArea,(0,a.default)({},A))}else if(d==="InputNumber"){var D=l;t=(0,n.jsx)(r.InputNumber,(0,a.default)({},D))}else if(d==="AutoComplete"){var T=l;t=(0,n.jsx)(r.AutoComplete,(0,a.default)({},T))}else if(d==="Cascader"){var P=l;t=(0,n.jsx)(r.Cascader,(0,a.default)({},P))}else if(d==="DatePicker"){var y=l;t=(0,n.jsx)(r.DatePicker,(0,a.default)({},y))}else if(d==="Rate"){var V=l;t=(0,n.jsx)(r.Rate,(0,a.default)({},V))}else if(d==="Slider"){var m=l;t=(0,n.jsx)(r.Slider,(0,a.default)({},m))}else if(d==="TreeSelect"){var N=l;t=(0,n.jsx)(r.TreeSelect,(0,a.default)({},N))}else if(d==="Select"){var h=l;t=(0,n.jsx)(r.Select,(0,a.default)({},h))}else if(d==="Checkbox"){var $=l;t=(0,n.jsx)(r.Checkbox.Group,(0,a.default)({},$))}else if(d==="Mentions"){var F=l;t=(0,n.jsx)(r.Mentions,(0,a.default)({},F))}else if(d==="Radio"){var x=l;t=(0,n.jsx)(r.Radio.Group,(0,a.default)({},x))}else if(d==="Switch"){var R=l;t=(0,n.jsx)(r.Switch,(0,a.default)({},R))}else if(d==="TimePicker"){var L=l;t=(0,n.jsx)(r.TimePicker,(0,a.default)({},L))}else if(d==="Upload"){var j=l;t=(0,n.jsx)(r.Upload,(0,a.default)({},j))}else if(d==="RangePicker"){var W=l;t=(0,n.jsx)(I,(0,a.default)({},W))}else d==="Custom"&&(t=O);return t};u.getItem=b},62033:function(U,u,e){var o=e(33769).default;Object.defineProperty(u,"__esModule",{value:!0});var a={};u.default=void 0;var E=o(e(79814));Object.keys(E).forEach(function(n){n==="default"||n==="__esModule"||Object.prototype.hasOwnProperty.call(a,n)||n in u&&u[n]===E[n]||Object.defineProperty(u,n,{enumerable:!0,get:function(){return E[n]}})});var r=E.default;u.default=r}}]);
